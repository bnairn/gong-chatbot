services:
  backend:
    build: ./backend
    ports: ["8000:8000"]
    environment:
      - GONG_ACCESS_KEY=${GONG_ACCESS_KEY}
      - GONG_ACCESS_KEY_SECRET=${GONG_ACCESS_KEY_SECRET}
      - GONG_BASE_URL=${GONG_BASE_URL}
      - PINECONE_API_KEY=${PINECONE_API_KEY}
      - PINECONE_INDEX_NAME=${PINECONE_INDEX_NAME:-gong-transcripts}
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - CHUNK_SIZE=${CHUNK_SIZE:-500}
      - CHUNK_OVERLAP=${CHUNK_OVERLAP:-100}
  frontend:
    build: ./frontend
    ports: ["3000:3000"]
    environment: ["VITE_API_URL=http://localhost:8000"]
    depends_on: [backend]
